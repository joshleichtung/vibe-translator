# Story 1.1: Initialize Vite Project with TypeScript

## Status
Ready for Review

## Story
**As a** developer,
**I want** a Vite + TypeScript project scaffold with strict mode enabled,
**so that** I have type safety and fast builds from the start.

## Acceptance Criteria
1. Vite project created with TypeScript template (`npm create vite@latest`)
2. TypeScript strict mode enabled in `tsconfig.json`
3. Development server runs on port 8420 (configured in `vite.config.ts`)
4. HMR WebSocket configured on port 8421
5. Project builds successfully with `npm run build`
6. `npm run typecheck` script added and passes with zero errors

## Tasks / Subtasks
- [x] Initialize Vite project with TypeScript template (AC: 1)
  - [x] Run `npm create vite@latest aimusic -- --template react-ts`
  - [x] Install dependencies with `npm install`
- [x] Configure TypeScript strict mode (AC: 2)
  - [x] Enable `"strict": true` in `tsconfig.json`
  - [x] Verify compilation passes
- [x] Configure Vite ports (AC: 3, 4)
  - [x] Create/update `vite.config.ts` with port 8420
  - [x] Configure HMR WebSocket on port 8421
  - [x] Test dev server starts correctly
- [x] Add typecheck script and validate build (AC: 5, 6)
  - [x] Add `"typecheck": "tsc --noEmit"` to package.json scripts
  - [x] Run `npm run typecheck` - verify zero errors
  - [x] Run `npm run build` - verify successful build

## Dev Notes

### Tech Stack Reference
- **Build Tool**: Vite v7.0.0
- **Language**: TypeScript v5.6.0
- **Framework**: React ^18.3.0
- **Template**: Use `react-ts` template from Vite CLI

### Port Configuration
From ui-architecture.md:
```typescript
// vite.config.ts
export default defineConfig({
  server: {
    port: 8420,
    hmr: {
      port: 8421
    }
  }
})
```

### TypeScript Configuration
- Enable strict mode: `"strict": true` in `tsconfig.json`
- This is critical for music theory types, API contracts, and preventing audio routing bugs

### npm Scripts Required
```json
{
  "scripts": {
    "dev": "vite --port 8420",
    "build": "tsc && vite build",
    "typecheck": "tsc --noEmit"
  }
}
```

### Project Structure After Init
```
aimusic/
├── node_modules/
├── public/
├── src/
│   ├── App.tsx
│   ├── App.css
│   ├── main.tsx
│   ├── index.css
│   └── vite-env.d.ts
├── .gitignore
├── index.html
├── package.json
├── tsconfig.json
├── tsconfig.node.json
└── vite.config.ts
```

### Testing
No formal tests required for this story - validation is through:
1. Successful `npm install`
2. Successful `npm run typecheck` (zero errors)
3. Successful `npm run build`
4. Dev server starts on port 8420

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-25 | 0.1 | Initial story creation from PRD Epic 1 | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
claude-sonnet-4-5-20250929

### Debug Log References
None - no issues encountered

### Completion Notes List
- Vite project created with react-ts template
- TypeScript strict mode already enabled in tsconfig.app.json
- Vite configured for ports 8420 (dev server) and 8421 (HMR)
- Added typecheck script to package.json
- All validation passes: typecheck (0 errors), build (success in 438ms)

### File List
**Created:**
- `.gitignore` - Git ignore rules
- `eslint.config.js` - ESLint configuration
- `index.html` - HTML entry point
- `package.json` - Project dependencies and scripts
- `public/vite.svg` - Vite logo
- `src/App.tsx` - Main React component
- `src/App.css` - App component styles
- `src/index.css` - Global styles
- `src/main.tsx` - React entry point
- `src/vite-env.d.ts` - Vite type definitions
- `src/assets/react.svg` - React logo
- `tsconfig.json` - TypeScript project references
- `tsconfig.app.json` - TypeScript app configuration
- `tsconfig.node.json` - TypeScript node configuration
- `vite.config.ts` - Vite configuration

**Modified:**
- `vite.config.ts` - Added server port configuration (8420/8421)
- `package.json` - Added typecheck script, updated dev script with port

## QA Results
_To be populated by QA agent_
